var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function i(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function a(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function h(){return f(" ")}function d(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function p(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let g;function m(t){g=t}function $(t){(function(){if(!g)throw new Error("Function called outside component initialization");return g})().$$.on_mount.push(t)}const y=[],b=[],_=[],k=[],v=Promise.resolve();let z=!1;function x(t){_.push(t)}let w=!1;const T=new Set;function j(){if(!w){w=!0;do{for(let t=0;t<y.length;t+=1){const e=y[t];m(e),E(e.$$)}for(m(null),y.length=0;b.length;)b.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];T.has(e)||(T.add(e),e())}_.length=0}while(y.length);for(;k.length;)k.pop()();z=!1,w=!1,T.clear()}}function E(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(x)}}const S=new Set;let A;function M(){A={r:0,c:[],p:A}}function U(){A.r||r(A.c),A=A.p}function D(t,e){t&&t.i&&(S.delete(t),t.i(e))}function O(t,e,n,r){if(t&&t.o){if(S.has(t))return;S.add(t),A.c.push((()=>{S.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function W(t,n,l,c){const{fragment:s,on_mount:u,on_destroy:i,after_update:a}=t.$$;s&&s.m(n,l),c||x((()=>{const n=u.map(e).filter(o);i?i.push(...n):r(n),t.$$.on_mount=[]})),a.forEach(x)}function N(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function P(t,e){-1===t.$$.dirty[0]&&(y.push(t),z||(z=!0,v.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function C(e,o,l,c,s,i,a,f=[-1]){const h=g;m(e);const d=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:o.context||[]),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||h.$$.root};a&&a(d.root);let p=!1;if(d.ctx=l?l(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&s(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),p&&P(e,t)),n})):[],d.update(),p=!0,r(d.before_update),d.fragment=!!c&&c(d.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);d.fragment&&d.fragment.l(t),t.forEach(u)}else d.fragment&&d.fragment.c();o.intro&&D(e.$$.fragment),W(e,o.target,o.anchor,o.customElement),j()}m(h)}class I{$destroy(){N(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function B(t,e,n){const r=t.slice();return r[7]=e[n],r}function H(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function q(t,e,n){const r=t.slice();return r[13]=e[n],r}function F(e){let n,r,o=e[13]+"";return{c(){n=a("th"),r=f(o),d(n,"class","svelte-tzrkrz")},m(t,e){s(t,n,e),c(n,r)},p:t,d(t){t&&u(n)}}}function L(e){let n,r,o,l=(e[3][e[7]][e[12]]?e[3][e[7]][e[12]].str:"")+"";return{c(){var t;n=a("td"),r=f(l),d(n,"class",(t=e[3][e[7]][e[12]]&&e[4](e[3][e[7]][e[12]])?"highlight":"",o=(null==t?"":t)+" svelte-tzrkrz"))},m(t,e){s(t,n,e),c(n,r)},p:t,d(t){t&&u(n)}}}function G(t){let e,n,r,o,l,p=t[7]+"",g=t[0][t[1][0]],m=[];for(let e=0;e<g.length;e+=1)m[e]=L(H(t,g,e));return{c(){e=a("tr"),n=a("th"),r=f(p),o=h();for(let t=0;t<m.length;t+=1)m[t].c();l=h(),d(n,"class","fixed svelte-tzrkrz"),d(e,"class","svelte-tzrkrz")},m(t,u){s(t,e,u),c(e,n),c(n,r),c(e,o);for(let t=0;t<m.length;t+=1)m[t].m(e,null);c(e,l)},p(t,n){if(27&n){let r;for(g=t[0][t[1][0]],r=0;r<g.length;r+=1){const o=H(t,g,r);m[r]?m[r].p(o,n):(m[r]=L(o),m[r].c(),m[r].m(e,l))}for(;r<m.length;r+=1)m[r].d(1);m.length=g.length}},d(t){t&&u(e),i(m,t)}}}function J(e){let n,r,o,l,f,p,g,m,$=e[2],y=[];for(let t=0;t<$.length;t+=1)y[t]=F(q(e,$,t));let b=e[1],_=[];for(let t=0;t<b.length;t+=1)_[t]=G(B(e,b,t));return{c(){n=a("div"),r=a("table"),o=a("thead"),l=a("tr"),f=a("th"),p=h();for(let t=0;t<y.length;t+=1)y[t].c();g=h(),m=a("tbody");for(let t=0;t<_.length;t+=1)_[t].c();d(f,"class","svelte-tzrkrz"),d(l,"class","svelte-tzrkrz"),d(m,"class","svelte-tzrkrz"),d(r,"class","svelte-tzrkrz"),d(n,"class","table-container svelte-tzrkrz")},m(t,e){s(t,n,e),c(n,r),c(r,o),c(o,l),c(l,f),c(l,p);for(let t=0;t<y.length;t+=1)y[t].m(l,null);c(r,g),c(r,m);for(let t=0;t<_.length;t+=1)_[t].m(m,null)},p(t,[e]){if(4&e){let n;for($=t[2],n=0;n<$.length;n+=1){const r=q(t,$,n);y[n]?y[n].p(r,e):(y[n]=F(r),y[n].c(),y[n].m(l,null))}for(;n<y.length;n+=1)y[n].d(1);y.length=$.length}if(27&e){let n;for(b=t[1],n=0;n<b.length;n+=1){const r=B(t,b,n);_[n]?_[n].p(r,e):(_[n]=G(r),_[n].c(),_[n].m(m,null))}for(;n<_.length;n+=1)_[n].d(1);_.length=b.length}},i:t,o:t,d(t){t&&u(n),i(y,t),i(_,t)}}}function K(t){if(!t)return null;const e=t.match(/(1[0-2]|0?[1-9]):([0-5][0-9]) ?([AaPp][Mm])/);try{const t=parseInt(e[1]),n=parseInt(e[2]),r=e[3],o=new Date;return o.setHours(r.match(/[Pp][Mm]/)?t%12+12:t),o.setMinutes(n),{time:o,str:t.toString().padStart(2,"0")+":"+n.toString().padStart(2,"0"),ampm:r}}catch(t){}}function Q(t,e,n){let{data:r}=e,{currentTime:o}=e;const l=r.keys||Object.keys(r),c=r[l[0]].map((t=>t.match(/[AaPp][Mm]/)[0]));const s=function(t){let e={};for(const n of l)e[n]=t[n].map((t=>K(t)));return e}(r);return t.$$set=t=>{"data"in t&&n(0,r=t.data),"currentTime"in t&&n(5,o=t.currentTime)},[r,l,c,s,t=>!!t&&o<t.time,o]}class R extends I{constructor(t){super(),C(this,t,Q,J,l,{data:0,currentTime:5})}}function V(t,e,n){const r=t.slice();return r[6]=e[n],r}function X(t){let e,n,r,o,l,d=t[2],g=[];for(let e=0;e<d.length;e+=1)g[e]=Z(V(t,d,e));const m=t=>O(g[t],1,1,(()=>{g[t]=null}));return{c(){e=a("p"),n=f(t[1]),r=h();for(let t=0;t<g.length;t+=1)g[t].c();o=f("")},m(t,u){s(t,e,u),c(e,n),s(t,r,u);for(let e=0;e<g.length;e+=1)g[e].m(t,u);s(t,o,u),l=!0},p(t,e){if((!l||2&e)&&p(n,t[1]),7&e){let n;for(d=t[2],n=0;n<d.length;n+=1){const r=V(t,d,n);g[n]?(g[n].p(r,e),D(g[n],1)):(g[n]=Z(r),g[n].c(),D(g[n],1),g[n].m(o.parentNode,o))}for(M(),n=d.length;n<g.length;n+=1)m(n);U()}},i(t){if(!l){for(let t=0;t<d.length;t+=1)D(g[t]);l=!0}},o(t){g=g.filter(Boolean);for(let t=0;t<g.length;t+=1)O(g[t]);l=!1},d(t){t&&u(e),t&&u(r),i(g,t),t&&u(o)}}}function Y(e){let n;return{c(){n=a("p"),n.textContent="Waiting for data to load..."},m(t,e){s(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}function Z(t){let e,n,r,o,l,i,g,m=t[6]+"";return i=new R({props:{data:t[0][t[6]],currentTime:t[1]}}),{c(){var c;e=a("a"),n=a("h3"),r=f(m),l=h(),(c=i.$$.fragment)&&c.c(),d(e,"href",o="src_url"in t[0][t[6]]?t[0][t[6]].src_url:"./"),d(e,"class","svelte-91yl1g")},m(t,o){s(t,e,o),c(e,n),c(n,r),s(t,l,o),W(i,t,o),g=!0},p(t,n){(!g||4&n)&&m!==(m=t[6]+"")&&p(r,m),(!g||5&n&&o!==(o="src_url"in t[0][t[6]]?t[0][t[6]].src_url:"./"))&&d(e,"href",o);const l={};5&n&&(l.data=t[0][t[6]]),2&n&&(l.currentTime=t[1]),i.$set(l)},i(t){g||(D(i.$$.fragment,t),g=!0)},o(t){O(i.$$.fragment,t),g=!1},d(t){t&&u(e),t&&u(l),N(i,t)}}}function tt(t){let e,n,r,o,l,i,f;const p=[Y,X],g=[];function m(t,e){return t[0]?1:0}return l=m(t),i=g[l]=p[l](t),{c(){e=a("main"),n=a("a"),n.innerHTML='<h2 class="svelte-91yl1g">WashU Shuttles</h2>',r=h(),o=a("section"),i.c(),d(n,"href","https://parking.wustl.edu/campus-shuttle-system/"),d(n,"class","svelte-91yl1g"),d(e,"class","svelte-91yl1g")},m(t,u){s(t,e,u),c(e,n),c(e,r),c(e,o),g[l].m(o,null),f=!0},p(t,[e]){let n=l;l=m(t),l===n?g[l].p(t,e):(M(),O(g[n],1,1,(()=>{g[n]=null})),U(),i=g[l],i?i.p(t,e):(i=g[l]=p[l](t),i.c()),D(i,1),i.m(o,null))},i(t){f||(D(i),f=!0)},o(t){O(i),f=!1},d(t){t&&u(e),g[l].d()}}}function et(t,e,n){let r,o,l,{apiUrl:c}=e,s={},u=new Date;return $((()=>{setInterval((()=>{n(1,u=new Date)}),1e3)})),fetch(c).then((t=>t.json())).then((t=>{n(0,s=t)})).catch((t=>console.log(t))),t.$$set=t=>{"apiUrl"in t&&n(3,c=t.apiUrl)},t.$$.update=()=>{2&t.$$.dirty&&n(5,r=6===u.getDay()||0===u.getDay()),32&t.$$.dirty&&n(4,o=r?"Weekday":"Weekend"),17&t.$$.dirty&&n(2,l=Object.keys(s).filter((t=>t.endsWith(o))))},[s,u,l,c,o,r]}return new class extends I{constructor(t){super(),C(this,t,et,tt,l,{apiUrl:3})}}({target:document.body,props:{apiUrl:"./data.json"}})}();
//# sourceMappingURL=bundle.js.map
