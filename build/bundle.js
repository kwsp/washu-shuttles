var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function a(t){t.parentNode.removeChild(t)}function i(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function u(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function h(){return f(" ")}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function d(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let m;function g(t){m=t}function $(t){(function(){if(!m)throw new Error("Function called outside component initialization");return m})().$$.on_mount.push(t)}const y=[],b=[],k=[],v=[],w=Promise.resolve();let _=!1;function x(t){k.push(t)}let z=!1;const T=new Set;function S(){if(!z){z=!0;do{for(let t=0;t<y.length;t+=1){const e=y[t];g(e),U(e.$$)}for(g(null),y.length=0;b.length;)b.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];T.has(e)||(T.add(e),e())}k.length=0}while(y.length);for(;v.length;)v.pop()();_=!1,z=!1,T.clear()}}function U(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(x)}}const M=new Set;let W;function j(){W={r:0,c:[],p:W}}function A(){W.r||r(W.c),W=W.p}function E(t,e){t&&t.i&&(M.delete(t),t.i(e))}function P(t,e,n,r){if(t&&t.o){if(M.has(t))return;M.add(t),W.c.push((()=>{M.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function D(t,n,s,l){const{fragment:c,on_mount:a,on_destroy:i,after_update:u}=t.$$;c&&c.m(n,s),l||x((()=>{const n=a.map(e).filter(o);i?i.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(x)}function O(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function C(t,e){-1===t.$$.dirty[0]&&(y.push(t),_||(_=!0,w.then(S)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function I(e,o,s,l,c,i,u,f=[-1]){const h=m;g(e);const p=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:o.context||[]),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||h.$$.root};u&&u(p.root);let d=!1;if(p.ctx=s?s(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&c(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),d&&C(e,t)),n})):[],p.update(),d=!0,r(p.before_update),p.fragment=!!l&&l(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(a)}else p.fragment&&p.fragment.c();o.intro&&E(e.$$.fragment),D(e,o.target,o.anchor,o.customElement),S()}g(h)}class L{$destroy(){O(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function N(t,e,n){const r=t.slice();return r[7]=e[n],r}function H(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function B(t,e,n){const r=t.slice();return r[13]=e[n],r}function q(e){let n,r,o=e[13]+"";return{c(){n=u("th"),r=f(o),p(n,"class","svelte-tzrkrz")},m(t,e){c(t,n,e),l(n,r)},p:t,d(t){t&&a(n)}}}function F(e){let n,r,o,s=(e[3][e[7]][e[12]]?e[3][e[7]][e[12]].str:"")+"";return{c(){var t;n=u("td"),r=f(s),p(n,"class",(t=e[3][e[7]][e[12]]&&e[4](e[3][e[7]][e[12]])?"highlight":"",o=(null==t?"":t)+" svelte-tzrkrz"))},m(t,e){c(t,n,e),l(n,r)},p:t,d(t){t&&a(n)}}}function G(t){let e,n,r,o,s,d=t[7]+"",m=t[0][t[1][0]],g=[];for(let e=0;e<m.length;e+=1)g[e]=F(H(t,m,e));return{c(){e=u("tr"),n=u("th"),r=f(d),o=h();for(let t=0;t<g.length;t+=1)g[t].c();s=h(),p(n,"class","fixed svelte-tzrkrz"),p(e,"class","svelte-tzrkrz")},m(t,a){c(t,e,a),l(e,n),l(n,r),l(e,o);for(let t=0;t<g.length;t+=1)g[t].m(e,null);l(e,s)},p(t,n){if(27&n){let r;for(m=t[0][t[1][0]],r=0;r<m.length;r+=1){const o=H(t,m,r);g[r]?g[r].p(o,n):(g[r]=F(o),g[r].c(),g[r].m(e,s))}for(;r<g.length;r+=1)g[r].d(1);g.length=m.length}},d(t){t&&a(e),i(g,t)}}}function J(e){let n,r,o,s,f,d,m,g,$=e[2],y=[];for(let t=0;t<$.length;t+=1)y[t]=q(B(e,$,t));let b=e[1],k=[];for(let t=0;t<b.length;t+=1)k[t]=G(N(e,b,t));return{c(){n=u("div"),r=u("table"),o=u("thead"),s=u("tr"),f=u("th"),d=h();for(let t=0;t<y.length;t+=1)y[t].c();m=h(),g=u("tbody");for(let t=0;t<k.length;t+=1)k[t].c();p(f,"class","svelte-tzrkrz"),p(s,"class","svelte-tzrkrz"),p(g,"class","svelte-tzrkrz"),p(r,"class","svelte-tzrkrz"),p(n,"class","table-container svelte-tzrkrz")},m(t,e){c(t,n,e),l(n,r),l(r,o),l(o,s),l(s,f),l(s,d);for(let t=0;t<y.length;t+=1)y[t].m(s,null);l(r,m),l(r,g);for(let t=0;t<k.length;t+=1)k[t].m(g,null)},p(t,[e]){if(4&e){let n;for($=t[2],n=0;n<$.length;n+=1){const r=B(t,$,n);y[n]?y[n].p(r,e):(y[n]=q(r),y[n].c(),y[n].m(s,null))}for(;n<y.length;n+=1)y[n].d(1);y.length=$.length}if(27&e){let n;for(b=t[1],n=0;n<b.length;n+=1){const r=N(t,b,n);k[n]?k[n].p(r,e):(k[n]=G(r),k[n].c(),k[n].m(g,null))}for(;n<k.length;n+=1)k[n].d(1);k.length=b.length}},i:t,o:t,d(t){t&&a(n),i(y,t),i(k,t)}}}function K(t){if(!t)return null;const e=t.match(/(1[0-2]|0?[1-9]):([0-5][0-9]) ?([AaPp][Mm])/);try{const t=parseInt(e[1]),n=parseInt(e[2]),r=e[3],o=new Date;return o.setHours(r.match(/[Pp][Mm]/)?t%12+12:t),o.setMinutes(n),{time:o,str:t.toString().padStart(2,"0")+":"+n.toString().padStart(2,"0"),ampm:r}}catch(t){}}function Q(t,e,n){let{data:r}=e,{currentTime:o}=e;const s=r.keys||Object.keys(r),l=r[s[0]].map((t=>t.match(/[AaPp][Mm]/)[0]));const c=function(t){let e={};for(const n of s)e[n]=t[n].map((t=>K(t)));return e}(r);return t.$$set=t=>{"data"in t&&n(0,r=t.data),"currentTime"in t&&n(5,o=t.currentTime)},[r,s,l,c,t=>!!t&&o<t.time,o]}class R extends L{constructor(t){super(),I(this,t,Q,J,s,{data:0,currentTime:5})}}function V(t,e,n){const r=t.slice();return r[6]=e[n],r}function X(t){let e,n,r,o,s,p=t[2],m=[];for(let e=0;e<p.length;e+=1)m[e]=Z(V(t,p,e));const g=t=>P(m[t],1,1,(()=>{m[t]=null}));return{c(){e=u("p"),n=f(t[1]),r=h();for(let t=0;t<m.length;t+=1)m[t].c();o=f("")},m(t,a){c(t,e,a),l(e,n),c(t,r,a);for(let e=0;e<m.length;e+=1)m[e].m(t,a);c(t,o,a),s=!0},p(t,e){if((!s||2&e)&&d(n,t[1]),7&e){let n;for(p=t[2],n=0;n<p.length;n+=1){const r=V(t,p,n);m[n]?(m[n].p(r,e),E(m[n],1)):(m[n]=Z(r),m[n].c(),E(m[n],1),m[n].m(o.parentNode,o))}for(j(),n=p.length;n<m.length;n+=1)g(n);A()}},i(t){if(!s){for(let t=0;t<p.length;t+=1)E(m[t]);s=!0}},o(t){m=m.filter(Boolean);for(let t=0;t<m.length;t+=1)P(m[t]);s=!1},d(t){t&&a(e),t&&a(r),i(m,t),t&&a(o)}}}function Y(e){let n;return{c(){n=u("p"),n.textContent="Waiting for data to load..."},m(t,e){c(t,n,e)},p:t,i:t,o:t,d(t){t&&a(n)}}}function Z(t){let e,n,r,o,s,i,m,g=t[6]+"";return i=new R({props:{data:t[0][t[6]],currentTime:t[1]}}),{c(){var l;e=u("a"),n=u("h3"),r=f(g),s=h(),(l=i.$$.fragment)&&l.c(),p(e,"href",o="src_url"in t[0][t[6]]?t[0][t[6]].src_url:"./"),p(e,"class","svelte-91yl1g")},m(t,o){c(t,e,o),l(e,n),l(n,r),c(t,s,o),D(i,t,o),m=!0},p(t,n){(!m||4&n)&&g!==(g=t[6]+"")&&d(r,g),(!m||5&n&&o!==(o="src_url"in t[0][t[6]]?t[0][t[6]].src_url:"./"))&&p(e,"href",o);const s={};5&n&&(s.data=t[0][t[6]]),2&n&&(s.currentTime=t[1]),i.$set(s)},i(t){m||(E(i.$$.fragment,t),m=!0)},o(t){P(i.$$.fragment,t),m=!1},d(t){t&&a(e),t&&a(s),O(i,t)}}}function tt(t){let e,n,r,o,s,i,f,d,m,g,$,y,b;const k=[Y,X],v=[];function w(t,e){return t[0]?1:0}return f=w(t),d=v[f]=k[f](t),{c(){e=u("main"),n=u("a"),n.innerHTML='<h2 class="svelte-91yl1g">WashU Shuttles</h2>',r=h(),o=u("p"),o.textContent="A sane alternative to Washington University in St. Louis Parking &\n    Transportation's shuttle schedule website.",s=h(),i=u("section"),d.c(),m=h(),g=u("br"),$=h(),y=u("footer"),y.innerHTML='<p>Data built from\n      <a href="https://parking.wustl.edu/campus-shuttle-system/" class="svelte-91yl1g"><span>WashU Parking &amp; Transportation</span></a>\n      and\n      <a href="https://www.metrostlouis.org/" class="svelte-91yl1g"><span>Metro STL</span></a>\n      .</p> \n\n    <p>This site is the result of my frustration with WashU Parking &amp;\n      Transportation&#39;s website and my attempt at a more accessible bus schedule\n      table for myself. If anything is not accurate or if you have any\n      suggestions for improvement, please email me at tnie at wustl dot edu.\n      Source code hosted on Github:\n      <a href="https://github.com/kwsp/washu-shuttles/" class="svelte-91yl1g">https://github.com/kwsp/washu-shuttles/</a></p>',p(n,"href","https://parking.wustl.edu/campus-shuttle-system/"),p(n,"class","svelte-91yl1g"),p(e,"class","svelte-91yl1g")},m(t,a){c(t,e,a),l(e,n),l(e,r),l(e,o),l(e,s),l(e,i),v[f].m(i,null),l(e,m),l(e,g),l(e,$),l(e,y),b=!0},p(t,[e]){let n=f;f=w(t),f===n?v[f].p(t,e):(j(),P(v[n],1,1,(()=>{v[n]=null})),A(),d=v[f],d?d.p(t,e):(d=v[f]=k[f](t),d.c()),E(d,1),d.m(i,null))},i(t){b||(E(d),b=!0)},o(t){P(d),b=!1},d(t){t&&a(e),v[f].d()}}}function et(t,e,n){let r,o,s,{apiUrl:l}=e,c={},a=new Date;return $((()=>{setInterval((()=>{n(1,a=new Date)}),1e3)})),fetch(l).then((t=>t.json())).then((t=>{n(0,c=t)})).catch((t=>console.log(t))),t.$$set=t=>{"apiUrl"in t&&n(3,l=t.apiUrl)},t.$$.update=()=>{2&t.$$.dirty&&n(5,r=6===a.getDay()||0===a.getDay()),32&t.$$.dirty&&n(4,o=r?"Weekend":"Weekday"),17&t.$$.dirty&&n(2,s=Object.keys(c).filter((t=>t.endsWith(o))))},[c,a,s,l,o,r]}return new class extends L{constructor(t){super(),I(this,t,et,tt,s,{apiUrl:3})}}({target:document.body,props:{apiUrl:"./data.json"}})}();
//# sourceMappingURL=bundle.js.map
